{{- $inline := site.Params.modules.fontawesome.inline -}}

{{ if $inline }}
// SVG mode - load SVG+JS support CSS
@import "modules/fontawesome/svg-with-js";
{{ else }}
// Webfont mode - load FontAwesome webfont CSS
@import "modules/fontawesome/fontawesome";
@import "modules/fontawesome/regular";
@import "modules/fontawesome/solid";
@import "modules/fontawesome/brands";
{{ end }}

// FontAwesome fluid icon wrapper
.fa-wrapper {
    container-type: inline-size;
    container-name: wrapper;
}

// Fallback size
.fa-fluid {
    font-size: 5rem;
}

// Container query scaling - SVG elements always need width/height
@container wrapper (min-width: 0) {
    // SVG elements need width/height regardless of mode
    .fa-wrapper > svg {
        width: 100cqi;
        height: 100cqi;
        // Ensure SVG scales properly
        max-width: 100%;
        max-height: 100%;
    }

    {{ if $inline }}
    // SVG mode - icon elements become SVG via FontAwesome JS
    .fa-wrapper > i {
        width: 100cqi;
        height: 100cqi;
        max-width: 100%;
        max-height: 100%;
    }
    {{ else }}
    // Webfont mode - font icons respond to font-size
    .fa-wrapper > i {
        font-size: 100cqi;
    }
    {{ end }}
}
